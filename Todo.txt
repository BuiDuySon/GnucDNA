
receiving results when search not open


    
Paragraph on main test changes

Ultrapeer up/downgrade path

Download
	x-alt
	Using push proxy
	Sending push proxy with hits
	Serving push proxy
	save direct hubs
	Dont send push proxy header when x-features g2
	Make sure G1/G2 download sources dont conflict

G2
	Q2/NAT
	QH2/FW
	NAT detection, map of 10000 ips, once 10000 hit turn off detection
	add ips from udp send and sock connects
	If PI/RELAY recved with UDP address of directly connected host (but not from directly	 connected host), disconnect youngest link

	15 minute upgrade only if setconnected never called
	ASSERT size of udp being sent, make sure QH does not overflow
	
Now	
	IPrefs::SetSpeedUp
	IPrefs::SetSpeedDown
	Set upload speed only if uploaded, take other speed stuff out
	
	check % full of g2 hash tables


Test
	*forwarding q2, blank q2s are being forwarded
	/TO packet
	table % full doesnt get too large
	sending/recving 64kb packets


G2 Questions
	closed clusters?
	Kill BE before it gets off ground, bad idea from G1 devs
	Screw bitprints
	Send null qka on qkr to child, signal remove from global cache
	Fixing - network disable still being sent when header is same


Rainy Day
	Unicode / UTF-8 support
	Advanced Query matching
	Advance error logging
	http templates as resources
	Winsock Error Code to String
	Accurate network stats
	Move filters out of dna
	> 2gb files
	PacketType/Sec using map<CString, int>
	HTTP request Host: without port, read location header for redirect

To Depreciate ( can be done outside dna )
	INetwork::GetNodePacketsPing
	INetwork::GetNodePacketsPong
	INetwork::GetNodePacketsQuery
	INetwork::GetNodePacketsQueryHit
	INetwork::GetNodePacketsPush
	INetwork::GetNodePacketsTotal
	INetwork::GetNodePacketsDown
	INetwork::GetNodePacketsUp
	INetwork::GetNodePacketsDropped
	
	ISearch::RefineSearch
	ISearch::SetFiltering
	ISearch::FilterSize
	ISearch::FilterSpeed
	
	IPrefs::GetHostServers
	IPrefs::SetHostServers
	IPrefs::GetScreenedNodes // use block list
	IPrefs::SetScreenedNodes



IChat
	CreateRoom(name) RoomID 
	CloseRoom(RoomID)
	GetRoomIDs() RoomIDs

	SearchRooms(filter) SearchID 
	OnSearchResult(ResultID)
	GetRoomName(ResultID) String
	GetRoomSize(ResultID) String 
	JoinRoom(ResultID) RoomID

	OnRoomEvent(RoomID, Event, Data)
	SendRoomMessage(RoomID, UserID, Message)
	OnRecvRoomMessage(RoomID, UserID, Message)
	GetRoomUserIDs() UserIDs

	SendDirectMessage(IP:Port, Message)
	OnRecvDirectMessage(IP:Port, Message)



	
	



